<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Curso de ProgramaciÃ³n Interactivo</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Arial', sans-serif;
      background: #1b0033;
      color: white;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }
    .container { width: 100%; max-width: 800px; text-align: center; }
    h1 { margin-bottom: 30px; color: #fff; font-size: 2.5rem; }
    section { display: none; animation: fadeIn 0.5s ease; }
    section.active { display: block; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

    .cards-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; }
    .card {
      background: rgba(255, 255, 255, 0.1);
      border: 2px solid #7c3aed;
      border-radius: 15px;
      padding: 25px;
      width: 220px;
      cursor: pointer;
      transition: 0.3s;
    }
    .card:hover { transform: translateY(-5px); border-color: #a78bfa; background: rgba(124, 58, 237, 0.2); }
    .icon { font-size: 3rem; margin-bottom: 15px; }

    .btn-group { display: flex; flex-direction: column; gap: 15px; max-width: 300px; margin: 20px auto; }
    button {
      padding: 15px;
      font-size: 1.1rem;
      border-radius: 10px;
      border: none;
      background: #7c3aed;
      color: white;
      cursor: pointer;
      font-weight: bold;
      transition: 0.3s;
    }
    button:hover:not(:disabled) { background: #6d28d9; transform: scale(1.02); }
    button:disabled { background: #4b5563; cursor: not-allowed; }

    #quiz-card { background: rgba(255, 255, 255, 0.05); padding: 30px; border-radius: 20px; border: 1px solid rgba(124, 58, 237, 0.3); }
    .answer-btn {
      display: block;
      width: 100%;
      margin-bottom: 10px;
      text-align: left;
      background: rgba(255,255,255,0.1);
      border: 1px solid #7c3aed;
      padding: 15px;
      border-radius: 8px;
      color: white;
      transition: 0.2s;
    }
    .answer-btn.selected { background: #10b981; border-color: #10b981; font-weight: bold; }

    .progress { height: 10px; background: #333; border-radius: 5px; margin: 20px 0; overflow: hidden; }
    .progress-fill { height: 100%; background: #10b981; width: 0%; transition: 0.4s; }

    #result-section h2 { font-size: 3rem; color: #a78bfa; margin-bottom: 10px; }

    /* ---- Auth UI ---- */
    .auth-card{
      max-width: 420px;
      margin: 0 auto;
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(124, 58, 237, 0.35);
      border-radius: 18px;
      padding: 22px;
      text-align: left;
    }
    .auth-card h2{ text-align:center; margin-bottom: 14px; }
    .auth-row{ display:flex; flex-direction:column; gap:10px; }
    .auth-row input{
      padding: 12px 12px;
      border-radius: 10px;
      border: 1px solid rgba(167, 139, 250, 0.45);
      outline: none;
      background: rgba(0,0,0,0.35);
      color: white;
      font-size: 1rem;
    }
    .auth-actions{ display:flex; gap:10px; margin-top: 12px; }
    .small{
      opacity: .9;
      font-size: .95rem;
      margin-top: 10px;
      line-height: 1.3rem;
    }
    #auth-error{
      margin-top: 10px;
      color: #fca5a5;
      min-height: 20px;
      font-weight: bold;
    }
    #user-bar{
      display:flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      margin: 0 auto 18px auto;
      max-width: 800px;
      padding: 10px 14px;
      border-radius: 14px;
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(124, 58, 237, 0.25);
    }
    #user-email{ font-weight: bold; color: #ddd; }
    #logout-btn{ background:#ef4444; }
    #logout-btn:hover{ background:#dc2626; }
  </style>
</head>

<body>
  <div class="container">
    <h1>Curso de ProgramaciÃ³n</h1>

    <!-- Barra usuario (se muestra cuando estÃ¡ logueado) -->
    <div id="user-bar" style="display:none;">
      <div>SesiÃ³n: <span id="user-email">â€”</span></div>
      <button id="logout-btn">Cerrar sesiÃ³n</button>
    </div>

    <!-- AUTH -->
    <section id="auth-section" class="active">
      <div class="auth-card">
        <h2>Inicia sesiÃ³n</h2>
        <div class="auth-row">
          <input id="email" type="email" placeholder="Correo" autocomplete="email" />
          <input id="password" type="password" placeholder="ContraseÃ±a (mÃ­nimo 6)" autocomplete="current-password" />
        </div>

        <div class="auth-actions">
          <button id="login-btn" style="flex:1; background:#22c55e;">Entrar</button>
          <button id="signup-btn" style="flex:1; background:#3b82f6;">Registrarme</button>
        </div>

        <div id="auth-error"></div>
        <div class="small">
          Nota: en Firebase Console activa <b>Authentication â†’ Email/Password</b> para que funcione.
        </div>
      </div>
    </section>

    <!-- MENU -->
    <section id="menu-section">
      <h2>Selecciona un curso</h2>
      <div class="cards-container">
        <div class="card" onclick="irANiveles('Python')"><div class="icon">ğŸ</div><h3>Python</h3></div>
        <div class="card" onclick="irANiveles('Java')"><div class="icon">â˜•</div><h3>Java</h3></div>
        <div class="card" onclick="irANiveles('HTML')"><div class="icon">ğŸŒ</div><h3>HTML/CSS</h3></div>
      </div>
    </section>

    <section id="levels-section">
      <h2 id="course-title"></h2>
      <div class="btn-group">
        <button onclick="empezarQuiz('easy')">Nivel BÃ¡sico</button>
        <button onclick="empezarQuiz('medium')">Nivel Medio</button>
        <button onclick="empezarQuiz('hard')">Nivel DifÃ­cil</button>
        <button onclick="irAMenu()" style="background: #444; margin-top: 10px;">Volver</button>
      </div>
    </section>

    <section id="quiz-section">
      <div id="quiz-card">
        <div id="info-pregunta">Pregunta 1 de 10</div>
        <div class="progress"><div class="progress-fill" id="bar"></div></div>
        <h3 id="texto-pregunta" style="margin-bottom: 20px; min-height: 60px;"></h3>
        <div id="opciones"></div>
        <button id="next-btn" onclick="siguientePregunta()" style="width: 100%; margin-top: 20px; background: #db2777;">Siguiente</button>
      </div>
    </section>

    <section id="result-section">
      <h2 id="final-score">0/10</h2>
      <p id="result-msg"></p>
      <button onclick="irAMenu()">Intentar otro curso</button>
    </section>
  </div>

  <!-- =======================
       TU LÃ“GICA + FIREBASE
       ======================= -->
  <script type="module">
    // Firebase (CDN modular). Para apps sin bundler, esto es lo mÃ¡s prÃ¡ctico. :contentReference[oaicite:1]{index=1}
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
    import {
      getAuth,
      createUserWithEmailAndPassword,
      signInWithEmailAndPassword,
      signOut,
      onAuthStateChanged
    } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-auth.js";

    // Tu config (tal cual te dio Firebase)
    const firebaseConfig = {
      apiKey: "AIzaSyBSZUyaUlEjhdc6vl-SsyZtEotOhFMNhBU",
      authDomain: "curso-programacion-d1921.firebaseapp.com",
      projectId: "curso-programacion-d1921",
      storageBucket: "curso-programacion-d1921.firebasestorage.app",
      messagingSenderId: "40569665582",
      appId: "1:40569665582:web:0b092ad0ce88737cdc87bf",
      measurementId: "G-54T0S7CPBB"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    // ======= UI Helpers =======
    function mostrarSeccion(id) {
      document.querySelectorAll("section").forEach(s => s.classList.remove("active"));
      document.getElementById(id).classList.add("active");
    }
    function setAuthError(msg) {
      document.getElementById("auth-error").textContent = msg || "";
    }

    // ======= Auth UI =======
    const emailEl = document.getElementById("email");
    const passEl = document.getElementById("password");

    document.getElementById("login-btn").addEventListener("click", async () => {
      setAuthError("");
      const email = emailEl.value.trim();
      const pass = passEl.value;
      try {
        await signInWithEmailAndPassword(auth, email, pass);
      } catch (e) {
        setAuthError("Error al iniciar sesiÃ³n: " + (e?.message || e));
      }
    });

    document.getElementById("signup-btn").addEventListener("click", async () => {
      setAuthError("");
      const email = emailEl.value.trim();
      const pass = passEl.value;
      try {
        await createUserWithEmailAndPassword(auth, email, pass);
      } catch (e) {
        setAuthError("Error al registrarte: " + (e?.message || e));
      }
    });

    document.getElementById("logout-btn").addEventListener("click", async () => {
      await signOut(auth);
    });

    onAuthStateChanged(auth, (user) => {
      const userBar = document.getElementById("user-bar");
      const userEmail = document.getElementById("user-email");

      if (user) {
        userBar.style.display = "flex";
        userEmail.textContent = user.email || "(sin email)";
        mostrarSeccion("menu-section");
      } else {
        userBar.style.display = "none";
        userEmail.textContent = "â€”";
        mostrarSeccion("auth-section");
      }
    });

    // =======================
    // TU CÃ“DIGO DEL QUIZ (igualito)
    // =======================
    let cursoActual = "";
    let preguntas = [];
    let indiceActual = 0;
    let puntaje = 0;
    let seleccion = null;
    let currentLevel = "easy";

    const db = {
      "Python": {
        "easy": [
          { q: "Â¿QuÃ© funciÃ³n se usa para pedir datos al usuario?", a: ["print()", "input()", "read()", "scan()"], c: 1 },
          { q: "Â¿CÃ³mo se define una variable en Python?", a: ["var x = 5", "int x = 5", "x = 5", "define x = 5"], c: 2 },
          { q: "Â¿QuÃ© tipo de dato es 'True'?", a: ["String", "Integer", "Boolean", "Float"], c: 2 },
          { q: "Â¿QuÃ© operador se usa para sumar?", a: ["+", "-", "*", "/"], c: 0 },
          { q: "Â¿CÃ³mo se inicia un condicional?", a: ["for", "while", "if", "def"], c: 2 },
          { q: "Â¿QuÃ© palabra clave define una funciÃ³n?", a: ["func", "def", "function", "lambda"], c: 1 },
          { q: "Â¿QuÃ© estructura se usa para repetir un bloque varias veces?", a: ["if", "loop", "for", "check"], c: 2 },
          { q: "Â¿QuÃ© sÃ­mbolo indica igualdad en una comparaciÃ³n?", a: ["=", "==", "!=", "<>"], c: 1 },
          { q: "Â¿QuÃ© tipo de dato es 'Hola'?", a: ["Integer", "Float", "List", "String"], c: 3 },
          { q: "Â¿CuÃ¡l de estos es un diccionario?", a: ["[1,2,3]", "(1,2,3)", "{'a':1}", "\"a, b, c\""], c: 2 }
        ],
        "medium": [
          { q: "Â¿QuÃ© hace la funciÃ³n len()?", a: ["Cuenta lÃ­neas", "Devuelve el tamaÃ±o", "Convierte a entero", "Muestra texto"], c: 1 },
          { q: "Â¿QuÃ© palabra se usa para manejar errores?", a: ["error", "try", "catch", "check"], c: 1 },
          { q: "Â¿CÃ³mo se importa una librerÃ­a?", a: ["include math", "import math", "using math", "require math"], c: 1 },
          { q: "Â¿QuÃ© mÃ©todo agrega un elemento a una lista?", a: ["add()", "push()", "append()", "insert()"], c: 2 },
          { q: "Â¿QuÃ© devuelve range(5)?", a: ["1 a 5", "0 a 5", "0 a 4", "1 a 4"], c: 2 },
          { q: "Â¿CÃ³mo se comenta varias lÃ­neas?", a: ["//", "#", "''' '''", "/* */"], c: 2 },
          { q: "Â¿QuÃ© estructura recorre claves y valores?", a: ["list", "tuple", "dict", "set"], c: 2 },
          { q: "Â¿QuÃ© operador se usa para potencia?", a: ["^", "**", "pow", "++"], c: 1 },
          { q: "Â¿QuÃ© palabra finaliza un ciclo antes de tiempo?", a: ["stop", "exit", "break", "end"], c: 2 },
          { q: "Â¿QuÃ© tipo de dato no permite duplicados?", a: ["list", "tuple", "dict", "set"], c: 3 }
        ],
        "hard": [
          { q: "Â¿QuÃ© es una list comprehension?", a: ["Una funciÃ³n especial", "Una forma compacta de crear listas", "Un tipo de bucle infinito", "Un mÃ©todo de diccionarios"], c: 1 },
          { q: "Â¿QuÃ© palabra clave se usa para crear un generador?", a: ["return", "yield", "generate", "async"], c: 1 },
          { q: "Â¿QuÃ© hace *args en una funciÃ³n?", a: ["Recibe argumentos ilimitados como tupla", "Convierte datos a lista", "Obliga a usar enteros", "Define argumentos opcionales"], c: 0 },
          { q: "Â¿Para quÃ© sirve **kwargs?", a: ["Guardar datos en archivos", "Recibir argumentos con nombre como diccionario", "Multiplicar variables", "Evitar errores"], c: 1 },
          { q: "Â¿QuÃ© mÃ©todo se ejecuta automÃ¡ticamente al crear un objeto?", a: ["__start__", "__init__", "__create__", "__newobj__"], c: 1 },
          { q: "Â¿QuÃ© significa que Python tenga tipado dinÃ¡mico?", a: ["Los tipos no existen", "El tipo se define al ejecutar el programa", "Solo usa strings", "No permite cambiar variables"], c: 1 },
          { q: "Â¿CuÃ¡l es la diferencia principal entre una lista y una tupla?", a: ["La tupla es mutable", "La lista es inmutable", "La tupla es inmutable", "No hay diferencia"], c: 2 },
          { q: "Â¿QuÃ© mÃ³dulo se usa comÃºnmente para trabajar con fechas?", a: ["timeplus", "calendarx", "datetime", "dateutilcore"], c: 2 },
          { q: "Â¿QuÃ© hace la funciÃ³n map()?", a: ["Ordena elementos", "Aplica una funciÃ³n a cada elemento de un iterable", "Elimina duplicados", "Convierte a diccionario"], c: 1 },
          { q: "Â¿QuÃ© estructura permite manejar una excepciÃ³n si ocurre un error?", a: ["do/while", "try/except", "if/error", "check/except"], c: 1 }
        ]
      },

      "Java": {
        "easy": [
          { q: "Â¿QuÃ© palabra clave se usa para declarar una variable?", a: ["var", "let", "int", "define"], c: 2 },
          { q: "Â¿QuÃ© mÃ©todo imprime texto en consola?", a: ["print()", "console.log()", "System.out.println()", "echo()"], c: 2 },
          { q: "Â¿QuÃ© sÃ­mbolo se usa para terminar una sentencia?", a: [".", ",", ";", ":"], c: 2 },
          { q: "Â¿QuÃ© tipo de dato se usa para nÃºmeros decimales?", a: ["int", "boolean", "double", "char"], c: 2 },
          { q: "Â¿CÃ³mo se inicia el mÃ©todo principal?", a: ["start()", "main()", "public static void main(String[] args)", "init()"], c: 2 },
          { q: "Â¿QuÃ© estructura se usa para tomar decisiones?", a: ["loop", "if", "repeat", "switcher"], c: 1 },
          { q: "Â¿QuÃ© tipo de dato almacena verdadero o falso?", a: ["bool", "boolean", "binary", "flag"], c: 1 },
          { q: "Â¿CÃ³mo se comenta una sola lÃ­nea?", a: ["<!-- -->", "#", "//", "**"], c: 2 },
          { q: "Â¿CuÃ¡l es el operador para sumar?", a: ["+", "-", "*", "%"], c: 0 },
          { q: "Â¿QuÃ© palabra crea una clase?", a: ["struct", "object", "class", "define"], c: 2 }
        ],
        "medium": [
          { q: "Â¿QuÃ© bucle se ejecuta al menos una vez?", a: ["for", "while", "do-while", "loop"], c: 2 },
          { q: "Â¿QuÃ© palabra clave se usa para heredar de una clase?", a: ["inherits", "extends", "implements", "super"], c: 1 },
          { q: "Â¿QuÃ© mÃ©todo convierte texto a entero?", a: ["Integer.parseInt()", "toInt()", "parse()", "convertInt()"], c: 0 },
          { q: "Â¿QuÃ© colecciÃ³n no permite elementos duplicados?", a: ["List", "ArrayList", "Set", "Map"], c: 2 },
          { q: "Â¿QuÃ© bloque se usa para manejar excepciones?", a: ["try-catch", "if-else", "check-error", "do-catch"], c: 0 },
          { q: "Â¿QuÃ© palabra clave evita que un mÃ©todo sea sobrescrito?", a: ["static", "final", "const", "private"], c: 1 },
          { q: "Â¿QuÃ© interfaz se usa comÃºnmente para ordenar colecciones?", a: ["Runnable", "Comparator", "Serializable", "Cloneable"], c: 1 },
          { q: "Â¿QuÃ© operador compara igualdad en Java?", a: ["=", "==", "equals", "!="], c: 1 },
          { q: "Â¿QuÃ© palabra clave permite acceder al mÃ©todo de la superclase?", a: ["this", "parent", "base", "super"], c: 3 },
          { q: "Â¿QuÃ© tipo de dato se usa para caracteres individuales?", a: ["String", "char", "letter", "byte"], c: 1 }
        ],
        "hard": [
          { q: "Â¿QuÃ© significa JVM?", a: ["Java Variable Method", "Java Virtual Machine", "Joint Virtual Manager", "Java Verified Mode"], c: 1 },
          { q: "Â¿QuÃ© caracterÃ­stica permite usar el mismo mÃ©todo con diferentes parÃ¡metros?", a: ["EncapsulaciÃ³n", "Sobrecarga", "Herencia", "AbstracciÃ³n"], c: 1 },
          { q: "Â¿QuÃ© palabra clave se usa para definir un mÃ©todo que no devuelve valor?", a: ["null", "void", "empty", "static"], c: 1 },
          { q: "Â¿QuÃ© tipo de memoria gestiona el Garbage Collector?", a: ["ROM", "Stack manual", "Heap", "Cache"], c: 2 },
          { q: "Â¿QuÃ© modificador permite acceso solo dentro del mismo paquete?", a: ["public", "private", "protected", "default"], c: 3 },
          { q: "Â¿QuÃ© estructura almacena pares clave-valor?", a: ["Set", "List", "Queue", "Map"], c: 3 },
          { q: "Â¿CuÃ¡l es la clase base de todas las clases en Java?", a: ["Main", "BaseObject", "Object", "Root"], c: 2 },
          { q: "Â¿QuÃ© palabra clave crea una constante?", a: ["static", "final", "const", "immutable"], c: 1 },
          { q: "Â¿QuÃ© mÃ©todo se llama automÃ¡ticamente antes de destruir un objeto (legacy)?", a: ["destroy()", "finalize()", "delete()", "remove()"], c: 1 },
          { q: "Â¿QuÃ© pilar de la POO oculta los detalles internos?", a: ["Herencia", "Polimorfismo", "EncapsulaciÃ³n", "Sobrecarga"], c: 2 }
        ]
      },

      "HTML": {
        "easy": [
          { q: "Â¿QuÃ© significa HTML?", a: ["Hyper Trainer Marking Language", "HyperText Markup Language", "HighText Machine Language", "Hyper Transfer Markup Language"], c: 1 },
          { q: "Â¿QuÃ© etiqueta se usa para el tÃ­tulo principal?", a: ["title", "h1", "head", "header"], c: 1 },
          { q: "Â¿QuÃ© etiqueta crea un enlace?", a: ["link", "a", "href", "url"], c: 1 },
          { q: "Â¿DÃ³nde se escribe el CSS?", a: ["Dentro de style", "En script", "En css", "Dentro de design"], c: 0 },
          { q: "Â¿QuÃ© propiedad cambia el color del texto?", a: ["font-color", "text-color", "color", "font-style"], c: 2 },
          { q: "Â¿QuÃ© etiqueta se usa para imÃ¡genes?", a: ["img", "image", "src", "pic"], c: 0 },
          { q: "Â¿QuÃ© propiedad cambia el tamaÃ±o del texto?", a: ["font-weight", "text-size", "font-size", "size"], c: 2 },
          { q: "Â¿QuÃ© sÃ­mbolo se usa para clases en CSS?", a: [".", "#", "*", "@"], c: 0 },
          { q: "Â¿QuÃ© etiqueta contiene el contenido visible?", a: ["meta", "body", "main", "section"], c: 1 },
          { q: "Â¿QuÃ© propiedad pone el fondo de un elemento?", a: ["bgcolor", "background", "color-bg", "back-style"], c: 1 }
        ],
        "medium": [
          { q: "Â¿QuÃ© selector selecciona un elemento por ID?", a: [".id", "#id", "*id", "id."], c: 1 },
          { q: "Â¿QuÃ© propiedad hace un contenedor flexible?", a: ["position: flex", "display: flex", "flex: auto", "layout: flex"], c: 1 },
          { q: "Â¿QuÃ© etiqueta es semÃ¡ntica?", a: ["div", "span", "section", "style"], c: 2 },
          { q: "Â¿QuÃ© propiedad controla el espacio interno?", a: ["margin", "padding", "spacing", "border-gap"], c: 1 },
          { q: "Â¿QuÃ© valor de position fija un elemento en pantalla?", a: ["absolute", "relative", "fixed", "static"], c: 2 },
          { q: "Â¿QuÃ© propiedad redondea las esquinas?", a: ["corner-radius", "border-round", "border-radius", "radius"], c: 2 },
          { q: "Â¿QuÃ© etiqueta agrupa navegaciÃ³n?", a: ["navigate", "nav", "menu", "links"], c: 1 },
          { q: "Â¿QuÃ© propiedad controla el orden en flexbox?", a: ["align", "order", "flex-position", "index"], c: 1 },
          { q: "Â¿QuÃ© unidad es relativa al tamaÃ±o de la fuente raÃ­z?", a: ["px", "%", "rem", "cm"], c: 2 },
          { q: "Â¿QuÃ© propiedad oculta un elemento sin eliminar su espacio?", a: ["display: none", "opacity: 0", "visibility: hidden", "hidden: true"], c: 2 }
        ],
        "hard": [
          { q: "Â¿QuÃ© modelo define cÃ³mo se calculan ancho y alto?", a: ["Render Model", "Box Model", "Layout Model", "Flex Model"], c: 1 },
          { q: "Â¿QuÃ© propiedad cambia el modelo de caja para incluir padding y borde?", a: ["box-sizing", "border-boxing", "layout-sizing", "size-mode"], c: 0 },
          { q: "Â¿QuÃ© selector tiene mayor especificidad?", a: ["Elemento", "Clase", "ID", "Universal"], c: 2 },
          { q: "Â¿QuÃ© propiedad permite superponer elementos?", a: ["layer", "z-index", "stack", "overlay"], c: 1 },
          { q: "Â¿QuÃ© atributo mejora la accesibilidad de imÃ¡genes?", a: ["title", "alt", "description", "label"], c: 1 },
          { q: "Â¿QuÃ© tÃ©cnica adapta el diseÃ±o a distintos dispositivos?", a: ["Static Design", "Responsive Design", "Inline Design", "Layered Design"], c: 1 },
          { q: "Â¿QuÃ© regla se usa para aplicar estilos segÃºn el tamaÃ±o de pantalla?", a: ["@screen", "@media", "@responsive", "@device"], c: 1 },
          { q: "Â¿QuÃ© propiedad en grid define columnas?", a: ["grid-template-columns", "grid-columns", "template-cols", "grid-layout-columns"], c: 0 },
          { q: "Â¿QuÃ© valor de display crea una cuadrÃ­cula?", a: ["flex", "block", "grid", "inline-grid-only"], c: 2 },
          { q: "Â¿QuÃ© pseudo-clase aplica estilo al pasar el cursor?", a: [":focus", ":hover", ":active", ":checked"], c: 1 }
        ]
      }
    };

    window.irANiveles = function (curso) {
      cursoActual = curso;
      document.getElementById("course-title").innerText = `Dificultad de ${curso}`;
      document.querySelectorAll("section").forEach(s => s.classList.remove("active"));
      document.getElementById("levels-section").classList.add("active");
    };

    window.empezarQuiz = function (nivel) {
      currentLevel = nivel;
      if (!db[cursoActual] || !db[cursoActual][nivel]) {
        alert("Contenido no disponible");
        return;
      }
      preguntas = [...db[cursoActual][nivel]];
      indiceActual = 0; puntaje = 0;
      document.querySelectorAll("section").forEach(s => s.classList.remove("active"));
      document.getElementById("quiz-section").classList.add("active");
      mostrarPregunta();
    };

    function mostrarPregunta() {
      seleccion = null;
      const p = preguntas[indiceActual];
      document.getElementById("info-pregunta").innerText = `Pregunta ${indiceActual + 1} de 10`;
      document.getElementById("texto-pregunta").innerText = p.q;
      document.getElementById("bar").style.width = `${((indiceActual) / 10) * 100}%`;

      let html = "";
      p.a.forEach((op, i) => {
        html += `<button class="answer-btn" onclick="marcar(this, ${i})">${op}</button>`;
      });
      document.getElementById("opciones").innerHTML = html;
    }

    window.marcar = function (btn, idx) {
      document.querySelectorAll(".answer-btn").forEach(b => b.classList.remove("selected"));
      btn.classList.add("selected");
      seleccion = idx;
    };

    window.siguientePregunta = function () {
      if (seleccion === null) return alert("Selecciona respuesta");
      if (seleccion === preguntas[indiceActual].c) puntaje++;
      indiceActual++;
      if (indiceActual < 10) mostrarPregunta();
      else finalizar();
    };

    function finalizar() {
      document.querySelectorAll("section").forEach(s => s.classList.remove("active"));
      document.getElementById("result-section").classList.add("active");
      document.getElementById("final-score").innerText = `${puntaje} / 10`;
      document.getElementById("result-msg").innerText = puntaje >= 7 ? "Â¡Certificado conseguido! ğŸ“" : "Sigue intentando... ğŸ“š";
    }

    window.irAMenu = function () {
      document.querySelectorAll("section").forEach(sec => sec.classList.remove("active"));
      document.getElementById("menu-section").classList.add("active");
    };
  </script>
</body>
</html>

